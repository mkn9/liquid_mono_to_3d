[pytest]
# Pytest configuration for mono_to_3d project
# Enforces deterministic testing standards

# Run in quiet mode by default
addopts = -q --strict-markers --tb=short

# Test discovery paths
testpaths = tests

# Minimum Python version
minversion = 3.8

# Custom markers for test organization
markers =
    unit: Unit tests for individual functions/classes
    integration: Integration tests across modules
    golden: Golden/regression tests with canonical scenarios
    invariant: Invariant property tests
    slow: Tests that take >1 second to run
    deterministic: Tests requiring fixed seeds (all tests should be this)
    
# Warnings
filterwarnings =
    error::RuntimeWarning
    error::DeprecationWarning
    ignore::PendingDeprecationWarning

# Coverage options (when using pytest-cov)
# Run with: pytest --cov=. --cov-report=html
[coverage:run]
omit =
    */tests/*
    */venv/*
    */mono_to_3d_env/*
    setup.py

[coverage:report]
precision = 2
show_missing = True
skip_covered = False

# Fail if coverage drops below threshold
fail_under = 80

